<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Subir PÃ¡gina Web</title>
  </head>
  <body>
    <h1>Subir Archivo</h1>

    <form
      id="uploadForm"
      action="https://axoserver.onrender.com/upload"
      method="post"
      enctype="multipart/form-data"
    >
      <input type="file" name="file" required />
      <button type="submit">Subir</button>
    </form>

    <div id="result"></div>

    <script>
      const form = document.getElementById("uploadForm");
      const resultDiv = document.getElementById("result");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const formData = new FormData(form);

        try {
          const res = await fetch(form.action, {
            method: "POST",
            body: formData,
          });

          const data = await res.json();
          resultDiv.innerHTML = `
                    <p>${data.message}</p>
                    <p><a href="${data.url}" target="_blank">Ver archivo</a></p>
                `;
        } catch (error) {
          resultDiv.textContent = "Error al subir el archivo";
          console.error(error);
        }
      });
    </script>
  </body>
</html>
